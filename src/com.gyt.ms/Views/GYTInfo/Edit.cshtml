@using Zer.Entities
@using Zer.GytDto

@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_Layout.cshtml";


    var provinceList = ViewBag.ProvinceList as List<string>;
    var characterList = ViewBag.CharacterList as List<string>;

    var gytInfoDto = Model as GYTInfoDto;
}

<h3 class="header smaller lighter blue">港运通信息编辑</h3>

@if (gytInfoDto != null)
{
    <form class="form-horizontal" role="form" method="post" action="@Url.Action("SaveEdit","GYTInfo")">
        <input value="@gytInfoDto.Id" class="hide" name="Id" />

        <div class="form-group">
            <label class="col-sm-4 control-label no-padding-right" for="input_bidCompnyName" style="color: red"> 申办企业 </label>

            <div class="col-sm-8">
                <input type="text" id="input_bidCompnyName" placeholder="申办企业名称" class="col-xs-10 col-sm-5" value="@gytInfoDto.BidCompanyName" name="BidCompanyName">
                <label id="lbl_userName" style="color: red; display: none"></label>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-4 control-label no-padding-right" for="input_bidTruckNo"> 申办车牌号: </label>
            <div class="col-sm-8">
                <select class="select2-default _province col-sm-1">
                    <option></option>
                    @{
    if (provinceList != null && provinceList.Count > 0)
    {
        foreach (var item in provinceList)
        {
            if (gytInfoDto.BidTruckNo.Substring(0, 1).Equals(item))
            {
                <option value="@item" selected="selected">@item</option>
            }
            else
            {
                <option value="@item">@item</option>
            }

        }
    }
}
                </select>

                <select class="select2-default _character col-sm-1" style="margin-left: 8px">
                    <option></option>
                    @{
    if (characterList != null && characterList.Count > 0)
    {
        foreach (var item in characterList)
        {
            if (gytInfoDto.BidTruckNo.Substring(1, 1).Equals(item))
            {
                <option value="@item" selected="selected">@item</option>
            }
            else
            {
                <option value="@item">@item</option>
            }
        }
    }
                    }
                </select>
                <input type="text" placeholder="请输入申办车牌号" id="input_bidTruckNo" class="4" style="margin-left: 8px" value="@gytInfoDto.BidTruckNo.Substring(2)">
                <input type="text" class="hide" name="BidTruckNo">
            </div>

            <span class="hide" id="sp_bidTruckNo"></span>
        </div>



        <div class="space-4"></div>
        
        @if (gytInfoDto.BusinessType != BusinessType.天然气车辆)
        {
            <div class="space-4"></div>

            <div class="form-group">
                <label class="col-sm-4 control-label no-padding-right" for="input_bidTruckNo"> 原企业名称 </label>

                <div class="col-sm-8">
                    <input type="text" id="input_originalTruckNo" placeholder="原企业名称" class="col-xs-10 col-sm-5" value="@gytInfoDto.OriginalTruckNo" name="OriginalTruckNo">
                    <label id="lbl_originalTruckNo" style="color: red; display: none"></label>
                </div>
            </div>

            <div class="space-4"></div>

            <div class="form-group">
                <label class="col-sm-4 control-label no-padding-right" for="input_bidTruckNo" style="color: red"> 原车牌号 </label>

                <div class="col-sm-8">
                    <input type="text" id="input_originalTruckNo" placeholder="原车牌号" class="col-xs-10 col-sm-5" value="@gytInfoDto.OriginalTruckNo" name="OriginalTruckNo">
                    <label id="lbl_originalTruckNo" style="color: red; display: none"></label>
                </div>
            </div>
        }
        
        <div class="clearfix form-actions">
            <div class="col-md-offset-3 col-md-9">
                <button class="btn btn-info" type="submit" id="btn_Save">
                    <i class="icon-ok bigger-110"></i>
                    保存
                </button>

                &nbsp; &nbsp; &nbsp;
                <button class="btn" type="reset">
                    <i class="icon-undo bigger-110"></i>
                    清空
                </button>
            </div>
        </div>
    </form>
}


@section scripts
{
    <script type="text/javascript">
        $("body").on("click", "#btn_Save", function() {
            var truckNo = $("._province").val() + $("._character").val() + $("#input_bidTruckNo").val();
            $("input[name^='BidTruckNo']").val(truckNo);
        });
    </script>
}
